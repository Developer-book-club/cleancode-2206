# 09. 단위 테스트

## ✏️ 정리본

### TDD 법칙 세 가지
- 첫째 법칙. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
- 둘째 법칙. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
- 셋째 법칙. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

### 깨끗한 테스트 코드 유지하기
- 테스트 코드는 실제 코드 못지 않게 중요하고 실제 코드 못지 않게 깨끗하게 짜야 한다.
- 테스트 케이스가 없으면 개발자는 변경을 주저한다. 버그가 숨어들까 두렵기 때문이다.
- 테스트는 유연성, 유지보수성, 재사용성을 제공한다

### 깨끗한 테스트 코드
- 테스트 코드에 중요한 것은 가독성!
- BUILD-OPERATE-CHECK 패턴
  - 테스트 코드에 적합한 패턴
  - 첫째. 테스트 자료를 만든다.
  - 둘째. 테스트 자료를 조작한다.
  - 셋째. 조작한 결과가 올바른지 확인한다.
- 이중 언어
  - 테스트코드는 단순하고, 간결하고, 표현력이 풍부해야 하지만, 실제 코드만큼 효율적일 필요는 없다.

### given-when-then 관례
- 함수 이름에 이 관례를 적용함으로써 테스트 코드를 읽기 쉬워진다
- Given
  - 테스트에서 구체화하고자 하는 행동을 시작하기 전에 테스트 상태를 설명하는 부분
- When
  - 구체화하고자 하는 그 행동
- Then
  - 어떤 특정한 행동 때문에 발생할거라고 예상되는 변화에 대한 설명

### F.I.R.S.T
- Fast(빠르게)
- Independent(독립적으로)
  - 각 테스트는 서로 의존하면 안 된다.
  - 각 테스트는 독립적으로 그리고 어떤 순서로 실행해도 괜찮아야 한다.
- Repeatable(반복가능하게)
  - 테스트는 어떤 환경에서도 반복 가능해야 한다.
  - 테스트가 돌아가지 않는 환경이 하나라도 있다면 테스트가 실패한 이유를 둘러댈 변명이 생긴다.
- Self-validating(자기검증하는)
  - 테스트는 boolean 값으로 결과를 내야 한다 (성공 아니면 실패)
- Timely(적시에)
  - 단위 테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.
  - 실제 코드를 구현한 다음에 테스트 코드를 만들면 테스트가 불가능하도록 실제 코드를 설계할지도 모른다.