# 16장 SerialDate 리팩터링

`JCommon` 라이브러리에  `org.jfree.date`라는 패키지가 있고 그 안에 `SerialDate`라는 날짜를 표현하는 클래스가 있다. 이미 자바에서는 다양한 클래스를 제공하지만, 하루 중 시각, 시간대에 무관하게 특정 날짜를 표기하기 위해, 즉 시간 기반 날짜 클래스가 아닌 순수 날짜 클래스를 만들고자 SerialDate를 만들었다고 한다.

- 초반에 나오는 주석들은 너무 오래되었다. 그래서 간단하게 고치고 개선했다.
- enum을 모두 독자적인 소스 파일로 옮겼다.
- 정적 변수(`dateFormatSymbols`)와 정적 메서드(`getMonthNames, isLeapYear, lastDayOfMonth`)를 새로운 클래스(`DateUtil`)로 옮겼다.
- 일부 추상 메서드를 `DayDate` 클래스로 끌어올렸다.
- 모든 enum 내부 메서드를 변경하고 필요한 접근자를 생성했다.
- `correctLasyDayOfMonth`라는 새 메서드를 생성해 `plusYears`와 `plusMonths` 부분에 중복을 제거
- 의미가 모호한 숫자 `1`의 쓰임을 적절히 변경했다. `Month.JANUARY.toInt()` 혹은 `Day.SUNDAY.toInt()`가 그 예이다.

### 

클린코드의 리팩터링 원칙은 항상 같다.  조금 더 깨끗한 코드를 만드는 것이다. 시간과 노력이 조금 들지언정, 테스트 커버리지가 증가하고 코드 크기는 줄었지만 더 명확해졌다. 다음 사람은 전보다 더 쉽게 코드를 이해할 수 있을 것이다. 추후에 수정사항이 생기면 더욱 쉽게 코드를 개선할 수 있을 것이다.