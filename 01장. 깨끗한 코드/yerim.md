# 1장 깨끗한 코드

이 책을 읽는 이유는 두가지

1. 프로그래머가 되기 위해서
2. 더 나은 프로그래머가 되기 위해서

### 코드는 항상 존재하리라

- 코드를 자동으로 생성하는 시대가 오겠지만 코드가 사라질 가망은 전혀 없다
    - 언어의 추상화 레벨이 올라갈지라도 코드는 사라지지 않는다.
    - 기계가 실행할 수 있을만큼 요구사항을 상세히 표현하는 것은 코드

### 나쁜 코드

- 킬러앱(Killer app) 하나로 대박 난 회사가 망한 일이 있었다. 원인은 나쁜 코드.
- 출시 일정에 맞추기 위해 나쁜 코드들을 방치하고는 '나중에 고쳐야지'라고 생각한다.
- Later equals never - LeBlanc's law (나중은 절대 오지 않는다 - 르블랑의 법칙)

### 나쁜코드로 큰 코 다치는 비용

##### 나쁜코드가 생기는 과정

- 초기에는 매우 빠른 속도로 진행되던 프로젝트가 1~2년 만에 느린 페이스로 진행된다.
    - 매번 해독하고, 나쁜 코드로 짠 프로그램에 변경사항을 더하는 것은 어느 것 하나 사소하지 않다.
- 나쁜 코드가 쌓일 수록 그 팀의 생산성은 떨어지고 이윽고 0에 수렴한다.
    - 관리팀은 인력을 추가하려 한다.
    - 하지만 새 팀원은 프로젝트를 이해하지 못한다.
    - '새 인력을 투입했으므로 생산성이 늘겠지'라는 극심한 압박이 있다.
    - 결과, 나쁜 코드는 더 쌓인다.
- 새로운 타이거 팀 구성. 재설계를 꿈꾼다.

##### 태도

- 한두시간이면 될 변경을 오래도록 보고 있다던지, 한줄만 바꾸면 되는데 수백개의 모듈을 건드린다던지.
- 촉박할 일정, 계속되는 요구사항, 멍청한 관리자, 조급한 고객, 쓸모없는 마케팅 인간..
- 결국은 프로그래머 잘못. 전문가 답지 못했다.
    - 관리자들 또한 좋은 코드를 원한다. 그와 동시에 스케쥴 또한 지키고 싶어한다.
    - 결국 좋은 코드를 지키는 것 또한 우리의 몫이다.

##### 원초적 난제

- 나쁜코드가 업무 속도를 늦춘다.
- 기한을 맞추는 유일한 방법은 “언제나 클린코드 유지하는 습관”

##### 깨끗한 코드

- 잘그린 그림을 구분하는 능력↔그림을 잘 그리는 능력
- 빈 캔퍼스에 우아한 작품을 만들어내는 감각. 코드 감각을 길러야 된다.

- **Bjarne Stroustrup**
    - 보기에 즐거운 코드.
    - 효율적인 코드. 성능 뿐만 아니라 나쁜 코드는 난장판을 더 키우기 때문이다.
    - 네이밍, 에러 핸들링, 메모리 누수, 경쟁상태 등 디테일을 신경쓰라.
    - 나쁜 코드는 여러가지 일을 한다. 의도와 목적이 흐려진다
    - 클린코드는 한 가지에 집중한다. **클린코드는 한 가지 일을 잘 한다.**
- **Grady Booch**
    - 클린코드는 하나의 잘 쓰여진 산문처럼 읽혀야 한다. 소설의 기승전결처럼 문제를 제시하고 명쾌한 해답을 제시해야 한다.
    - 명백한 추상 : 코드는 추측 대신 실제를 중시, 필요한 것만 포함하며 독자로 하여금 결단을 내렸다고 생각하게 해야 한다.
- **“Big” Dave Thomas**
    - 다른 이가 수정하기 쉬워야 한다.
    - 테스트를 해야 한다.
    - 코드는 간결할 수록, 세련될 수록 좋다.
- **Michael Feathers**
    - 코드에 주의, 관심을 가지고 작성해라
- **Ron Jeffries**
    - 중복제거
    - 클래스/메서드는 최소화
    - 메서드의 이름으로 코드의 표현력 강화
- **Ward Cunningham**
    - 읽고, 끄덕이고, 다음으로 넘어갈 수 있는 코드를 작성하라.
    - 사용하는 언어의 문제가 아니다. 언어를 사용하는 프로그래머의 문제이다.

### 우리는 저자다

프로그래머는 저자이다.

코드를 짤 때는 자신이 저자라는 사실을, 그리고 이 노력을 보고 판단을 내릴 독자가 있다는 사실을 기억해야 한다.

코드를 읽는 시간 대 코드를 짜는 시간 비율이 10 대 1을 훌쩍 넘기도 한다. 기존 코드를 읽어야 새 코드를 짜므로 읽기 쉽게 만들면 사실은 짜기도 쉬워진다